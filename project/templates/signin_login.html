{% extends "base.html" %}

{% block title %}Photography Auth{% endblock %}

{% block content %}
<div class="d-flex flex-column flex-xl-row min-vh-100">

  <!-- Image Section -->
  <div class="w-100 w-xl-60">
    <img src="{{ url_for('static', filename='img/loginCamera.jpg') }}" class="img-fluid left-img" alt="Camera image">
  </div>



  <!-- Form Section -->
  <div class="w-100 w-md-40 d-flex justify-content-center align-items-start px-4 py-5">
    <div class="w-100" style="max-width: 450px;">

      <!-- Tabs -->
      <ul class="nav nav-tabs justify-content-end mb-3" id="authTabs" role="tablist">
        <li class="nav-item" role="presentation">
          <button class="nav-link active" id="signup-tab" data-bs-toggle="tab" data-bs-target="#signup" type="button"
            role="tab">Sign Up</button>
        </li>
        <li class="nav-item" role="presentation">
          <button class="nav-link" id="login-tab" data-bs-toggle="tab" data-bs-target="#login" type="button"
            role="tab">Log In</button>
        </li>
      </ul>

      <!-- Flash Messages -->
      {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
      <div class="mb-3">
        {% for category, message in messages %}
        <div class="alert alert-{{ category }} text-center">{{ message }}</div>
        {% endfor %}
      </div>
      {% endif %}
      {% endwith %}

      <img src="{{ url_for('static', filename='img/icon-black.png') }}" class="form-logo d-block mx-auto mb-3"
        alt="Camera icon">

      <!-- Tab Content -->
      <div class="tab-content" id="authTabsContent">
        <!-- Sign Up Form -->
        <div class="tab-pane fade show active" id="signup" role="tabpanel">
          <form method="POST" action="{{ url_for('main.signin') }}">
            <div class="toggle-buttons d-flex justify-content-center gap-2 mb-4">
              <input type="radio" name="role_signup" id="signup_customer" value="customer" checked>
              <label for="signup_customer">I am a Customer</label>

              <input type="radio" name="role_signup" id="signup_photographer" value="photographer">
              <label for="signup_photographer">I am a Photographer</label>
            </div>

            <div class="mb-3">
              <input type="text" class="form-control" name="name" placeholder="Full Name" required>
              {% if error_name %}
              <small class="text-danger">{{ error_name }}</small>
              {% endif %}
            </div>
            <div class="mb-3">
              <input type="email" class="form-control" name="email" placeholder="Email address" required>
              {% if error_email %}
              <small class="text-danger">{{ error_email }}</small>
              {% endif %}
            </div>
            <div class="mb-3">
              <input type="password" class="form-control" name="password" placeholder="Password" required
                title="Password must be at least 8 characters, contain uppercase & lowercase letters, a number, and a special character">
            </div>

            <div class="mb-3">
              <input type="password" class="form-control" name="confirm_password" placeholder="Confirm Password"
                required title="Re-enter the same password">
              {% if error_password %}
              <small class="text-danger">{{ error_password }}</small>
              {% endif %}
            </div>
            <button type="submit" class="btn btn-auth w-100 mt-2">Sign Up</button>
          </form>
        </div>

        <!-- Login Form -->
        <div class="tab-pane fade" id="login" role="tabpanel">
          <form method="POST" action="{{ url_for('main.login') }}">

            <div class="mb-3">
              <input type="email" name="email" class="form-control" placeholder="Email address" required>
            </div>
            <div class="mb-3">
              <input type="password" name="password" class="form-control" placeholder="Password" required>
            </div>
            <button type="submit" class="btn btn-auth w-100 mt-2">Log In</button>
          </form>
        </div>
      </div>

      <div class="text-center mt-4 footer-links">
        <a href="#">Terms of Service</a> |
        <a href="#">Privacy</a> |
        <a href="#">Privacy Policy</a>
      </div>
    </div>
  </div>
</div>
{% endblock %}